<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/pages/public/templates/main.xhtml">
	<ui:define name="content">
		<div class="col-xs-12">
			<h1 class="page-header">
				<i class="fa fa-globe"></i>&nbsp;<i class="fa fa-search"></i>&nbsp;&nbsp;&nbsp;My Trips
			</h1>
		</div>
			<h:form>
				<h:dataTable value="#{findMyTripsController.tripListView}" var="item" class="table table-striped"  >
		 			<h:column>
		   				<f:facet name="header">
		   					<h:outputText value="From"/>
		   				</f:facet> 
		     			<h:outputText value="#{item.departureCity}" />
		 			</h:column>
		 			<h:column>
		   				<f:facet name="header">
		   					<h:outputText value="To" />
		   				</f:facet> 
		    			<h:outputText value="#{item.arrivalCity}" />
		 			</h:column>
		 			<h:column>
		   				<f:facet name="header">
		   					<h:outputText value="Date" />
		   				</f:facet> 
		    			<h:outputText  value="#{item.departureDate} " />
		 			</h:column>
		 			<h:column>
		   				<f:facet name="header">
		   					<h:outputText value="Time"/>
		   				</f:facet>
		     			<h:outputText align="right" value="#{item.departureTime}" />
		   			</h:column>
		   			<h:column>
		     			<h:panelGroup class="col-md-2 col-md-offset-4">
		     				<h:outputLink value="../public/showTripView.xhtml" class="btn btn-primary">
		     					<f:param name="tripId" value="#{item.id}" />
		     					<i class="fa fa-info-circle"></i>&nbsp;
								<h:outputText value="Details" />
							</h:outputLink>
		     			</h:panelGroup>
		     			<h:panelGroup class="col-md-2">
		     				<h:outputLink value="findAllPassengersView.xhtml" class="btn btn-primary">
		     					<f:param name="tripId" value="#{item.id}" />
		     					<i class="fa fa-male"></i>&nbsp;
								<h:outputText value="Passengers" />
							</h:outputLink>
		     			</h:panelGroup>
		     			<h:panelGroup class="col-md-2 col-md-offset-1">
		     				<h:outputLink value="updateTripInformationView.xhtml" class="btn btn-primary">
		     					<f:param name="tripId" value="#{item.id}" />
		     					<i class="fa fa-refresh"></i>&nbsp;
								<h:outputText value="Update" />
							</h:outputLink>
		     			</h:panelGroup>
		   			</h:column>
		 		</h:dataTable>
		 		<!--<div class="col-md-12 text-center">
					<ul class="list-inline">
						<li><h:commandButton class="btn btn-default btn-sm" action="#{findMyTripsController.previousScreen}" value="Previous" /></li>
						<li><h:commandButton class="btn btn-default btn-sm" action="/pages/public/findTripsView.xhtml" value="Return" /></li>
						<li><h:commandButton class="btn btn-default btn-sm" action="#{findMyTripsController.nextScreen}" value="Next" /></li>
					</ul>
				</div>	-->
				<h:panelGroup class="col-xs-12 text-center">
					<ul class="pagination pagination-lg">
						<li class="#{findMyTripsController.currentPage eq 1 ? 'disabled' : ''}">
							<h:commandLink action="#{findTMyTripsController.findTrips(findMyTripsController.currentPage-1)}" value="Prev" disabled="#{findMyTripsController.currentPage eq 1}" />
						</li>
						<ui:repeat var="page" value="#{findMyTripsController.currentPage}">
							<li class="#{page eq findMyTripsController.currentPage ? 'active' : ''}">
								<h:commandLink action="#{findMyTripsController.findTrips(page)}" value="#{page}">
								<f:param name="page" value="#{page}" />
								</h:commandLink>
							</li>
						</ui:repeat>
						<li class="#{findMyTripsController.currentPage*10 gt findMyTripsController.totalResults ? 'disabled' : ''}">
							<h:commandLink action="#{findMyTripsController.findTrips(findMyTripsController.currentPage+1)}" value="Next" disabled="#{findMyTripsController.currentPage*10 gt findMyTripsController.totalResults}" />
						</li>
					</ul>
				</h:panelGroup>
	 		</h:form>
	</ui:define>
</ui:composition>
</html>
